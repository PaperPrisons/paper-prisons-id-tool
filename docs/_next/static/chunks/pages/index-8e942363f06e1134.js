(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4343)}])},4343:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return App}});var i=n(5893),s=n(7294),a=n(9008),l=n.n(a),o=n(6991),c=n.n(o),components_FormRadioButtonField=e=>{let{label:t,value:n,option:s,checked:a=!1,onChange:l=()=>{}}=e;return(0,i.jsx)("div",{className:"dynamic-form-field dynamic-form-radio-button-field ".concat(a?"dynamic-form-radio-button-field-checked":""),children:(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"radio",placeholder:n,onClick:e=>{e.stopPropagation(),e.preventDefault(),l(n,s)},checked:a,onChange:()=>{}}),(0,i.jsx)("span",{className:"dynamic-form-radio-button-field-label-text",dangerouslySetInnerHTML:{__html:t}})]})})};let r={Radio:e=>{let{id:t="",title:n="",description:a="",options:l=[],value:o="",onChange:c=()=>{}}=e,[r,m]=(0,s.useState)(o),onCheckedHandler=(e,n)=>{m(e),c(t,e,n)};return(0,s.useEffect)(()=>{m(o)},[o,t]),(0,i.jsxs)("div",{className:"dynamic-form-field dynamic-form-radio-question",children:[(0,i.jsx)("p",{dangerouslySetInnerHTML:{__html:n},className:"dynamic-form-field-question-title"}),a&&(0,i.jsx)("p",{dangerouslySetInnerHTML:{__html:a},className:"dynamic-form-field-question-description"}),l.map(e=>(0,i.jsx)(components_FormRadioButtonField,{label:e.label,value:e.value,option:e.option,checked:r===e.option,onChange:onCheckedHandler},e.label))]})},Dropdown:e=>{let{id:t="",title:n="",description:a="",options:l=[],value:o="",onChange:c=()=>{}}=e,[r,m]=(0,s.useState)(!1),[d,u]=(0,s.useState)(o),onOptionSelected=(e,n)=>{u(n),m(!1),c(t,e,n)};return(0,i.jsxs)("div",{className:"dynamic-form-field dynamic-form-dropdown-question",children:[(0,i.jsx)("p",{dangerouslySetInnerHTML:{__html:n},className:"dynamic-form-field-question-title"}),a&&(0,i.jsx)("p",{dangerouslySetInnerHTML:{__html:a},className:"dynamic-form-field-question-description"}),(0,i.jsxs)("div",{className:"dynamic-form-dropdown-question-options-wrapper",children:[(0,i.jsx)("label",{onClick:()=>m(!r),children:d?l.filter(e=>e.option===d)[0].label:"Please select an option"}),r&&(0,i.jsx)("ul",{className:"dynamic-form-select-field-options",children:l.map((e,t)=>(0,i.jsx)("li",{onClick:()=>onOptionSelected(e.value,e.option),className:d===e.option?"dynamic-form-select-field-option-active":"",children:e.label},t))})]})]})}},getParameterValueByName=e=>{e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");let t=RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))};var components_Form=e=>{let{data:t={},output:n={}}=e,[a,l]=(0,s.useState)(!1),[o,c]=(0,s.useState)([]),[m,d]=(0,s.useState)(),[u,p]=(0,s.useState)({}),[f,h]=(0,s.useState)(null),[y,g]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=t.static;e&&e.length>0&&(d(e[0]),c([e[0]]))},[t]),(0,s.useEffect)(()=>{g(!!getParameterValueByName("debug"))},[]),(0,i.jsxs)("div",{className:"dynamic-form",children:[y&&(0,i.jsx)("pre",{dangerouslySetInnerHTML:{__html:JSON.stringify(u,null,4)}}),y&&(0,i.jsx)("pre",{dangerouslySetInnerHTML:{__html:JSON.stringify(n,null,4)}}),!a&&m&&(0,i.jsxs)("div",{className:"question-item-wrapper",children:[o.length>1&&!a&&(0,i.jsx)("button",{className:"dynamic-form-button",onClick:()=>{d(o[o.length-(m?2:1)]),m&&c(o.slice(0,-1)),l(!1)},children:"Go Back"}),(0,i.jsx)("img",{className:"question-item-logo",src:"https://paperprisons.org/images/logo.png"}),s.createElement(r[m.type],{...m,onChange:(e,n,i)=>{p({...u,[e]:i});let s="#End"===n,a=t.dynamic[e],r=a.staticId,m=f;a.isStatic&&t.dynamic[n]?m=n:!a.isStatic&&t.dynamic["".concat(e).concat(n)]&&(m="".concat(e).concat(n)),m&&h(s?null:m),r<t.static.length-1&&!s?(d(t.static[r+1]),c(t.static.slice(0,r+2))):!s&&m?(d(t.dynamic[m]),c([...o,t.dynamic[m]])):(d(null),l(!0))},value:u[m.id]})]}),a&&(0,i.jsxs)("div",{className:"dynamic-form-output",children:[(0,i.jsx)("img",{className:"question-item-logo",src:"https://paperprisons.org/images/logo.png"}),(0,i.jsx)("div",{className:"dynamic-form-output-item",children:(0,i.jsx)("p",{className:"dynamic-form-output-item-title",children:"Here is what you need to do:"})}),t.raw.map(e=>{let t=u[e.id],s=n[e.id];return t&&s?(0,i.jsxs)("div",{className:"dynamic-form-output-item",children:[y&&(0,i.jsx)("p",{className:"dynamic-form-output-item-title",dangerouslySetInnerHTML:{__html:e.title}}),(0,i.jsx)("p",{dangerouslySetInnerHTML:{__html:s.options[t]}})]},e.id):null}),(0,i.jsxs)("div",{className:"dynamic-form-output-item",children:[(0,i.jsx)("p",{className:"dynamic-form-output-item-title",children:"Send the result to as email:"}),(0,i.jsxs)("div",{className:"email-form-wrapper",children:[(0,i.jsx)("input",{type:"text",id:"email",name:"email",placeholder:"Email",className:"email-field"}),(0,i.jsx)("input",{type:"submit",value:"Submit",className:"dynamic-form-button active"})]})]})]})]})};function App(){let[e,t]=(0,s.useState)({}),[n,a]=(0,s.useState)({});return(0,s.useEffect)(()=>{let e=new(c());e.parse("1S9Ac06eAesmc4J8mgEdO6A083H2sfkPKEk7sbg3USGY","Questions-Cloned-Yabo").then(e=>{let n={static:[],dynamic:{},raw:[]};e.forEach((e,t)=>{let i={id:e["Unique ID"],staticId:t,title:e.Question,description:e["Sub Description"],type:e.Type,isStatic:"Static"===e.QuestionFlowType,options:Object.keys(e).filter(e=>e.startsWith("A")).map(t=>{let n=e[t].trim(),i=n.match(/^(.*?)\s*{{(.*?)}}$/);if(i){let e=i[1].trim(),n=i[2].trim();return{label:e,value:n,option:t}}return{label:n,value:n,option:t}})};n.dynamic[i.id]=i,i.isStatic&&n.static.push(i),n.raw.push(i)}),t(n)})},[]),(0,s.useEffect)(()=>{let e=new(c());e.parse("1S9Ac06eAesmc4J8mgEdO6A083H2sfkPKEk7sbg3USGY","Answer Output Key").then(e=>{let t={};e.forEach(e=>{let n=e["Question Unique ID (For reference purpose only)"],i={id:n,title:e.Question,options:Object.keys(e).filter(e=>e.startsWith("A")).reduce((t,n)=>(t[n.replace(" Output","").trim()]=e[n].trim(),t),{})};t[n]=i}),a(t)})},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Open+Sans:400,600,300",rel:"stylesheet",type:"text/css"})]}),(0,i.jsx)(components_Form,{data:e,output:n})]})}}},function(e){e.O(0,[136,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);